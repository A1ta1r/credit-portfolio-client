webpackJsonp([1],{"+AsU":function(t,e){},"+e8y":function(t,e){},"/35x":function(t,e){},"0nrk":function(t,e){},"17fl":function(t,e){},"2jxO":function(t,e){},"5XV+":function(t,e){},"6APl":function(t,e){},"8J+Y":function(t,e){},FCPg:function(t,e){},FHf5:function(t,e){},HVgQ:function(t,e){},"JA//":function(t,e){},Jtk3:function(t,e){},K8Ul:function(t,e){},LZHx:function(t,e){},"M/rO":function(t,e){},MJmf:function(t,e){},Mlqx:function(t,e){},NATg:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("header",{attrs:{id:"header-com"}},[e("router-link",{staticClass:"text-gray-dark nav-link",attrs:{to:"/",id:"head"}},[e("h1",[this._v('Веб-приложение "Кредитный портфель"')])])],1)},staticRenderFns:[]};var i=n("VU/8")({name:"HeaderCom"},r,!1,function(t){n("yklK")},"data-v-f48d29d8",null).exports,o={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{attrs:{id:"footer-com"}},[e("a",{attrs:{target:"_blank",href:"http://perm.hse.ru"}},[this._v("Сайт НИУ ВШЭ-Пермь")]),this._v(" "),e("a",{attrs:{target:"_blank",href:"http://perm.hse.ru/ba/se"}},[this._v("Программная инженерия в Перми")])])}]};var s=n("VU/8")({name:"FooterCom"},o,!1,function(t){n("2jxO")},"data-v-c2fa1494",null).exports,l={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"sidebar-com"}})},staticRenderFns:[]};var u=n("VU/8")({name:"SidebarCom.vue"},l,!1,function(t){n("RkQz")},"data-v-6a755fa8",null).exports,c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("nav",{staticClass:"d-inline-flex flex-row justify-content-center align-items-center"},[e("router-link",{attrs:{to:"/calculator"}},[this._v("Кредитный калькулятор")]),this._v(" "),e("router-link",{attrs:{to:"/user"}},[this._v("Профиль")])],1)},staticRenderFns:[]};var m={name:"App",components:{Navbar:n("VU/8")({name:"Navbar",data:function(){return{active:0}}},c,!1,function(t){n("M/rO")},"data-v-ed620ca8",null).exports,HeaderCom:i,FooterCom:s,SidebarCom:u}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("header-com"),this._v(" "),e("navbar"),e("hr"),this._v(" "),e("router-view"),e("hr"),this._v(" "),e("footer-com")],1)},staticRenderFns:[]};var p=n("VU/8")(m,f,!1,function(t){n("ZJTN")},null,null).exports,v=n("/ocq"),d={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h2",[t._v("Полезные ссылки")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#/calculator",target:"_self"}},[t._v("\n        Кредитный Калькулятор v1\n      ")])]),t._v(" "),n("br")]),t._v(" "),n("h2",[t._v("Ecosystem")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[t._v("\n        vue-router\n      ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[t._v("\n        vuex\n      ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[t._v("\n        vue-loader\n      ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[t._v("\n        awesome-vue\n      ")])])])])}]};var h=n("VU/8")({name:"HelloWorld",data:function(){return{msg:"Добро пожаловать в ваш кредитный портфелий))"}}},d,!1,function(t){n("jKLx")},"data-v-ad0632ec",null).exports,y={name:"PaymentsTable",data:function(){return{options:{year:"numeric",month:"long",day:"numeric"},columnHeads:["Дата платежа","Сумма платежа"]}},props:{payments:Array}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-group",attrs:{id:"payemnts-table"}},[n("table",{staticClass:"table table-bordered"},[n("thead",[n("tr",t._l(t.columnHeads,function(e){return n("th",{key:e},[t._v("\n        "+t._s(e)+"\n      ")])}))]),t._v(" "),t._l(t.payments,function(e){return n("tr",{key:e.paymentDate,staticClass:"form-control-static"},[n("td",[t._v(t._s(new Date(e.paymentDate).toLocaleDateString("ru",t.options)))]),t._v(" "),n("td",[t._v(t._s(e.paymentAmount.toFixed(2))+" RUB")])])})],2)])},staticRenderFns:[]};var g=n("VU/8")(y,_,!1,function(t){n("SJbz")},"data-v-c55aa532",null).exports,P={name:"Paginator",data:function(){return{offset:0}},props:{limit:Number,value:Number,length:Number},computed:{pages:function(){return Math.ceil(this.length/this.limit)},currentPage:function(){return this.offset/this.limit+1}},methods:{nextPage:function(){var t=this.offset+this.limit;t<this.length&&(this.offset=t),this.emitChange()},prevPage:function(){var t=this.offset-this.limit;t>=0&&(this.offset=t),this.emitChange()},emitChange:function(){this.$emit("input",this.currentPage)}},updated:function(){this.offset>this.length&&(this.offset=0)}},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-group"},[n("button",{staticClass:"btn btn-outline-primary",attrs:{value:t.value},on:{click:t.prevPage}},[t._v("Назад")]),t._v(" "),n("label",[t._v(t._s(t.currentPage)+" из "+t._s(t.pages))]),t._v(" "),n("button",{staticClass:"btn btn-outline-primary",attrs:{value:t.value},on:{click:t.nextPage}},[t._v("Вперед")])])},staticRenderFns:[]};var k=n("VU/8")(P,b,!1,function(t){n("du3m")},"data-v-47190442",null).exports,C=n("Zx67"),x=n.n(C),A=n("Zrlr"),D=n.n(A),w=n("wxAW"),M=n.n(w),T=n("zwoO"),R=n.n(T),E=n("Pf15"),L=n.n(E),$=n("efHD"),N=function(t){function e(){return D()(this,e),R()(this,(e.__proto__||x()(e)).apply(this,arguments))}return L()(e,t),M()(e,[{key:"defaults",value:function(){return{title:"Новый кредит",paymentType:e.LoanTypes.Even,paymentAmount:0,interestRate:0,currency:"RUB",numberOfMonths:0,paymentList:[],startDate:new Date,totalPaymentAmount:0}}},{key:"routes",value:function(){return{fetch:"/loans/{id}",save:"/loans/{id}"}}}]),e}($.a);N.LoanTypes={Even:"Аннуитетный",Differentiated:"Дифференцированный"};var O=N,F=function(t){function e(){return D()(this,e),R()(this,(e.__proto__||x()(e)).apply(this,arguments))}return L()(e,t),M()(e,[{key:"defaults",value:function(){return{paymentDate:null,paymentAmount:null}}},{key:"routes",value:function(){return{fetch:"/payment/{id}",save:"/payment"}}}]),e}($.a),U=function(){function t(){D()(this,t)}return M()(t,null,[{key:"calculate",value:function(t){return t.paymentType===O.LoanTypes.Even?this.calculateEqual(t):this.calculateDifferentiated(t)}},{key:"calculateEqual",value:function(t){var e=t.startDate,n=t.numberOfMonths,a=t.interestRate/12/100,r=a*Math.pow(1+a,n)/(Math.pow(1+a,n)-1),i=t.paymentAmount*r;t.totalPaymentAmount=i*t.numberOfMonths,t.paymentList=[];for(var o=0;o<t.numberOfMonths;o++){var s=e.setMonth(e.getMonth()+1);t.paymentList[o]=new F({paymentDate:s,paymentAmount:i})}return t}},{key:"calculateDifferentiated",value:function(t){var e=t.startDate,n=t.paymentAmount/t.numberOfMonths;t.totalPaymentAmount=0,t.paymentList=[];for(var a=0;a<t.numberOfMonths;a++){var r=e.setMonth(e.getMonth()+1),i=n+(t.paymentAmount-n*a)*t.interestRate/100/12;t.paymentList[a]=new F({paymentDate:r,paymentAmount:i}),t.totalPaymentAmount+=i}return t}}]),t}(),V=n("IC97"),H=n("D52M"),j={name:"calculator",components:{Datepicker:V.a,PaymentsTable:g,Paginator:k},data:function(){return{even:O.LoanTypes.Even,diff:O.LoanTypes.Differentiated,paymentPlan:new O,startDate:Date.now(),datepickerLocale:H.a,datepickerInput:"form-control",currentPage:1,limit:12}},methods:{calculation:function(){this.paymentPlan.startDate=new Date(this.startDate),this.paymentPlan=U.calculate(this.paymentPlan),this.currentPage=1,this.startDate=Date.now()}},computed:{currentPayments:function(){var t=(this.currentPage-1)*this.limit,e=t+this.limit;return this.paymentPlan.paymentList.slice(t,e)}}},J={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-container",attrs:{id:"calculator"}},[n("div",{staticClass:"form-group"},[n("label",[t._v("Сумма кредита")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentPlan.paymentAmount,expression:"paymentPlan.paymentAmount"}],staticClass:"form-control",attrs:{type:"number",id:"sum",min:"1",title:"Сумма кредита"},domProps:{value:t.paymentPlan.paymentAmount},on:{input:function(e){e.target.composing||t.$set(t.paymentPlan,"paymentAmount",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[t._v("Количество месяцев")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentPlan.numberOfMonths,expression:"paymentPlan.numberOfMonths"}],staticClass:"form-control",attrs:{type:"number",id:"month",min:"1",title:"Количество месяцев"},domProps:{value:t.paymentPlan.numberOfMonths},on:{input:function(e){e.target.composing||t.$set(t.paymentPlan,"numberOfMonths",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[t._v("Процент в год")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentPlan.interestRate,expression:"paymentPlan.interestRate"}],staticClass:"form-control",attrs:{type:"number",step:"0.01",min:"0",id:"rate",title:"Процент"},domProps:{value:t.paymentPlan.interestRate},on:{input:function(e){e.target.composing||t.$set(t.paymentPlan,"interestRate",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[t._v("Дата начала платежей")]),t._v(" "),n("datepicker",{attrs:{"input-class":t.datepickerInput,language:t.datepickerLocale},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"d-block"},[t._v("Тип выплат")]),t._v(" "),n("label",{staticClass:"radio-inline",attrs:{for:"evenradio","data-toggle":"tooltip",title:"Равные выплаты"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentPlan.paymentType,expression:"paymentPlan.paymentType"}],attrs:{id:"evenradio",type:"radio"},domProps:{value:t.even,checked:t._q(t.paymentPlan.paymentType,t.even)},on:{change:function(e){t.$set(t.paymentPlan,"paymentType",t.even)}}}),t._v("\n      "+t._s(t.even)+"\n    ")]),t._v(" "),n("label",{staticClass:"radio-inline",attrs:{for:"diffradio","data-toggle":"tooltip",title:"Уменьшающиеся выплаты"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentPlan.paymentType,expression:"paymentPlan.paymentType"}],attrs:{id:"diffradio",type:"radio"},domProps:{value:t.diff,checked:t._q(t.paymentPlan.paymentType,t.diff)},on:{change:function(e){t.$set(t.paymentPlan,"paymentType",t.diff)}}}),t._v("\n      "+t._s(t.diff)+"\n    ")])]),t._v(" "),n("div",{staticClass:"form-control-static"},[n("input",{staticClass:"btn btn-primary",attrs:{type:"submit",title:"Рассчитать",value:"Рассчитать"},on:{click:t.calculation}})]),t._v(" "),t.paymentPlan.totalPaymentAmount?n("h5",{staticClass:"form-control-static"},[t._v("Итоговая сумма платежей:\n    "+t._s(t.paymentPlan.totalPaymentAmount.toFixed(2)))]):t._e(),t._v(" "),t.paymentPlan.totalPaymentAmount?n("PaymentsTable",{attrs:{payments:t.currentPayments,total:t.paymentPlan.totalPaymentAmount}}):t._e(),t._v(" "),t.paymentPlan.totalPaymentAmount?n("paginator",{attrs:{limit:t.limit,length:t.paymentPlan.paymentList.length},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)},staticRenderFns:[]};var q=n("VU/8")(j,J,!1,function(t){n("HVgQ")},"data-v-1327d370",null).exports;a.a.use(v.a);var S=new v.a({routes:[{path:"/",name:"HelloWorld",component:h},{path:"/calculator",name:"Calculator",component:q}]});n("iodX");a.a.config.productionTip=!1,new a.a({el:"#app",router:S,components:{App:p},template:"<App/>"})},RkQz:function(t,e){},SG2C:function(t,e){},SJbz:function(t,e){},TewM:function(t,e){},VPMk:function(t,e){},VpI0:function(t,e){},X0uL:function(t,e){},XEJZ:function(t,e){},ZJTN:function(t,e){},aG4R:function(t,e){},bUuw:function(t,e){},du3m:function(t,e){},jKLx:function(t,e){},jdpu:function(t,e){},kN2P:function(t,e){},ldKY:function(t,e){},n2ri:function(t,e){},qI60:function(t,e){},"qzS+":function(t,e){},"sd0+":function(t,e){},vZCS:function(t,e){},yklK:function(t,e){},zAZt:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.538c1037e9f7f2cf126a.js.map